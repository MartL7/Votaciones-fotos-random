---
interface Props {
  name: string
  birthDayText: string
  age: number
  isMobile: boolean
}

const { name, birthDayText, isMobile, age } = Astro.props

let yearBirthDay = new Date().getFullYear()

const today = new Date()
const [day, month, year] = birthDayText.split('/')
const birthDay = new Date(Number(year), Number(month) - 1, Number(day))

if(today.getDate() >= birthDay.getDate() && today.getMonth() >= birthDay.getMonth() || today.getDate() < birthDay.getDate() && today.getMonth() > birthDay.getMonth()) yearBirthDay += 1
---
{
  !isMobile ? (
    <section class="row-start-1 row-end-3 flex flex-col justify-center items-center gap-y-10">
      <aside class="flex flex-col justify-center items-center">
        <h2 class="text-2xl text-center font-Oswald"> Cumpleaños </h2>
        <span class="text-3xl text-center font-public text-blue-200/90 font-bold"> {day}/{month}/{yearBirthDay} </span>
      </aside>

      <aside class="flex flex-col justify-center items-center">
        <h2 class="text-2xl text-center font-Oswald"> Apodo </h2>
        <span class="text-3xl text-center font-public text-blue-200/90 font-bold"> {name} </span>
      </aside>

      <aside class="flex flex-col justify-center items-center">
        <h2 class="text-2xl text-center font-Oswald"> Edad </h2>
        <span class="text-3xl text-center font-public text-blue-200/90 font-bold"> {age} </span>
      </aside>
    </section>
  ) 
  :
  (
    <section class="w-full px-5 sm:px-10 md:hidden">
      <div class="flex flex-col justify-center items-center gap-y-2 mb-10">

        <div class="border-b-2 flex justify-between items-center w-full">
          <h2 class="text-2xl text-center font-Oswald"> Cumpleaños </h2>
          <span class="text-2xl text-center font-public text-blue-200/90 font-bold"> {day}/{month}/{yearBirthDay} </span>
        </div>

        <div class="border-b-2 flex justify-between items-center w-full">
          <h2 class="text-2xl text-center font-Oswald"> Apodo </h2>
          <span class="text-2xl text-center font-public text-blue-200/90 font-bold"> {name} </span>
        </div>

        <div class="flex justify-between items-center w-full">
          <h2 class="text-2xl text-center font-Oswald"> Edad </h2>
          <span class="text-2xl text-center font-public text-blue-200/90 font-bold"> {age} </span>
        </div>
      </div>
    </section>
  )
}
